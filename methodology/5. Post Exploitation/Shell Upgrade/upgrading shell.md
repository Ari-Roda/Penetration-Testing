Netcat shells can unexpectedly close or crash quickly making us lose access to the target. Therefore after achieving exploitation and before getting persistenc it is beneficial to upgrade and stabilize your shell. This allos for commands like su and sudo to be used which previously werent possible.
The simplest way to upgrade to tty (text terminal) shell is iwth python one liner to run bash in python.

python3 -c 'import pty; pty.spawn("/bin/bash")'

perl -e 'exec "/bin/bash";'


GTFO bins can be used to find ways to get tty shell and this link has more methods to achieve this. blog.ropnop.com/upgrading-simple-shells-to-fully-interactive-ttys

Generally speaking, you want to use an external tool to execute /bin/bash for you. While doing so, it is a good idea to try everything you know, starting from python, finishing with getting a binary on the target system. 
List of static binaries you can get on the system: github.com/andrew-d/static-binaries

################################################################################################################################################################

id_rsa file that contains a private key that can be used to connect to a box via ssh. It is usually located in the .ssh folder in the user's home folder. (Full path: /home/user/.ssh/id_rsa)
Get that file on your system and give it read-only permissions 
(chmod 600 id_rsa) and connect by executing ssh -i id_rsa user@ip).

In case if the target box does not have a generated id_rsa file (or you simply don't have reading permissions for it), you can still gain stable ssh access. All you need to do is generate your own id_rsa key on your system and include an associated key into authorized_keys file on the target machine. 
Execute ssh-keygen and you should see id_rsa and id_rsa.pub files appear in your own .ssh folder. Copy the content of the id_rsa.pub file and put it inside the authorized_key file on the target machine (located in .ssh folder). After that, connect to the machine using your id_rsa file.
